#: import ZBarCam kivy_garden.zbarcam.ZBarCam
#: import ZBarSymbol pyzbar.pyzbar.ZBarSymbol

MDScreen:
    MDNavigationLayout:
        MDScreenManager:
            id: manager
            MDScreen:
                id:screen1
                name:"Main_page"
                MDScrollView:     
                    MDBoxLayout:
                        orientation: "vertical"
                        size_hint_y:1.9
            ####################################   TOPAPPBAR  ####################################
                        MDTopAppBar:
                            title: "QuickPay"
                            md_bg_color: "blue"
                            title_halign: "left"
                            text:"myapp"
                            md_text_color: "white"
                            specific_text_color: (1, 1, 1, 1)  # White color
                            font_style:"Platypi-Regular"
                            right_action_items: [["account-circle-outline"]] #, lambda x: app.callback()
                            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        # Content area (make sure this has enough content to scroll)
                        MDBoxLayout:
                            orientation: "vertical"
                            #size_hint_y: 2  # Adjust as needed for scroll behavior
            ####################################   LANDING PAGE ANIMATION  ####################################                            
                            MDBoxLayout:
                                padding: 10,20
                                size_hint_y:.7
                                MDBoxLayout:
                                    radius: 15
                                    md_bg_color: "#DDDDDD"
                                    spacing:50
                                    padding: 10,10,10,10
                                    pos_hint:{"center_x":.5,"center_y":.5}
                                    #size_hint_y:.6
                                    size_hint_x:.8
                                    FitImage:
                                        source: "IMAGES/landing_page_2.png"
                                        pos_hint:{"center_x":.5}
            ####################################   TRANSACTION WIDGETS  ####################################
                            MDGridLayout:
                                cols:4
                                size_hint_y: .2
                                padding: 40,0,40,0
                                spacing: 5
                                halign:"center"

                                MDBoxLayout:
                                    orientation: "vertical" 
                                    spacing: 4
                                    MDIconButton:
                                        icon: "qrcode-scan"
                                        theme_text_color: "Custom"
                                        text_color: "#D1553E"
                                        icon_size: "32dp"
                                        pos_hint: {"center_x":.5}
                                        on_release: app.QR()
                                    MDLabel:
                                        text: "Scan \nAny Qr "
                                        color: "black"
                                        font_size:13
                                        halign: "center"
                                        bold:True 
                                
                                MDBoxLayout:
                                    spacing: 4
                                    orientation: "vertical"
                                    MDIconButton:
                                        icon: "account-supervisor-circle"
                                        theme_text_color: "Custom"
                                        text_color: "#15A190"
                                        icon_size: "32dp"
                                        pos_hint: {"center_x": .5}
                                        on_release: app.sk()

                                    MDLabel:
                                        text: "Pay \nContacts"
                                        color: "black"
                                        font_size:13
                                        halign: "center" 
                                        bold:True 

                                MDBoxLayout:
                                    spacing: 4
                                    orientation: "vertical"
                                    MDIconButton:
                                        icon: "piggy-bank-outline"
                                        theme_text_color: "Custom"
                                        text_color: "#C9051C"
                                        icon_size: "32dp"
                                        pos_hint: {"center_x":.5}
                                        on_release:app.Savings()
                                    MDLabel:
                                        text: "$avings"
                                        color: "black"
                                        font_size:13
                                        halign: "center" 
                                        bold:True 

                                MDBoxLayout:
                                    spacing: 4
                                    orientation: "vertical"
                                    MDIconButton:
                                        icon: "bitcoin"
                                        theme_text_color: "Custom"
                                        text_color: "#C5991A"
                                        icon_size: "38dp"
                                        pos_hint: {"center_x":.5}
                                        on_release: app.bitcoin()
                                    MDLabel:
                                        text: "Bitcoin"
                                        color: "black"
                                        font_size:13
                                        halign: "center"
                                        bold:True  
                            MDGridLayout:
                                cols:4
                                size_hint_y: .3
                                #size_hint_x: .6
                                padding: 40,20,40,0
                                #margin: "0dp, 10dp, 0dp, 0dp"
                                spacing: 5
                                halign:"center"
                                
                                MDBoxLayout:
                                    orientation: "vertical" 
                                    spacing: 4
                                    MDIconButton:
                                        icon: "bank-transfer"
                                        theme_text_color: "Custom"
                                        text_color: "#D1553E"
                                        icon_size: "32dp"
                                        size_hint: None, None
                                        size: "96dp", "96dp"
                                        pos_hint: {"center_x":.5}
                                        on_release:app.bank_transfer()
                                    MDLabel:
                                        text: "Bank \ntransfer"
                                        color: "black"
                                        font_size:13
                                        halign: "center"
                                        bold:True 
                                
                                MDBoxLayout:
                                    spacing: 4
                                    orientation: "vertical"
                                    MDIconButton:
                                        icon: "receipt-text-check-outline"
                                        theme_text_color: "Custom"
                                        text_color: "#CCCC00"
                                        icon_size: "32dp"
                                        pos_hint: {"center_x":.5}
                                        on_release:app.bills()
                                    MDLabel:
                                        text: "Pay bills"
                                        color: "black"
                                        font_size:13
                                        halign: "center"  
                                        bold:True                               
                                
                                MDBoxLayout:
                                    spacing: 4
                                    orientation: "vertical"
                                    MDIconButton:
                                        icon: "cellphone-wireless"
                                        theme_text_color: "Custom"
                                        text_color: "#C9051C"
                                        icon_size: "32dp"
                                        pos_hint: {"center_x":.5}
                                        on_release:app.recharge()
                                    MDLabel:
                                        text: "Mobile \nrecharge"
                                        color: "black"
                                        padding: 0,10,0,0
                                        font_size:13
                                        halign: "center" 
                                        bold:True 

                                MDBoxLayout:
                                    spacing: 4
                                    orientation: "vertical"
                                    MDIconButton:
                                        icon: "dots-horizontal"
                                        theme_text_color: "Custom"
                                        text_color: "#C9051C"
                                        icon_size: "32dp"
                                        pos_hint: {"center_x":.5}
                                    MDLabel:
                                        text: "More"
                                        color: "black"
                                        font_size:13
                                        halign: "center"
                                        bold:True  
            ####################################   MANAGE MONEY CONTAINER  ####################################
                            MDBoxLayout:
                                orientation:"vertical"
                                size_hint_y:.9
                                MDLabel:
                                    text: "Payments"  # Add more content here
                                    halign: "left"
                                    font_size:20
                                    font_style:"Platypi-Bold"
                                    padding: 8,0,0,0
                                    color:"black"
                                    bold:True
                                MDRelativeLayout:
                                    size_hint_x:.9
                                    pos_hint:{"center_x":.5}
                                    padding:5,5,5,5
                                    ImageLeftWidget:
                                        source:"image3.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.2}
                                    ImageLeftWidget:
                                        source:"image2.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.5}
                                    ImageLeftWidget:
                                        source:"image2.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.8}
                                MDRelativeLayout:
                                    size_hint_x:.9
                                    pos_hint:{"center_x":.5}
                                    padding:5,5,5,5
                                    ImageLeftWidget:
                                        source:"image2.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.2}
                                    ImageLeftWidget:
                                        source:"image3.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.5}
                                    ImageLeftWidget:
                                        source:"image2.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.8}
                                MDRelativeLayout:
                                    size_hint_x:.9
                                    pos_hint:{"center_x":.5}
                                    padding:5,5,5,5
                                    ImageLeftWidget:
                                        source:"image2.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.2}
                                    ImageLeftWidget:
                                        source:"image3.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.5}
                                    ImageLeftWidget:
                                        source:"image3.png"
                                        radius:75
                                        size_hint_x:.18
                                        size_hint_y:.8
                                        pos_hint:{"center_x":.8}
                            Widget:
                                size_hint_y: .1
                                height: dp(2)  # Adjust the height of the line
                                canvas:
                                    Color:
                                        rgba: 0, 0, 0, 1  # Set the color of the line
                                    Line:
                                        points: self.x, self.y, self.width, self.y
                            MDBoxLayout:
                                orientation:"vertical"
                                size_hint_y:.6
                                MDLabel:
                                    text: "Manage your money"  # Add more content here
                                    halign: "left"
                                    font_size:20
                                    font_style:"Platypi-Bold"
                                    padding: 8,0,0,0
                                    color:"black"
                                    bold:True


                                MDBoxLayout:
                                    orientation: "horizontal" 
                                    padding: 15,0,15,0
                                    MDIcon:
                                        icon: "account-cash-outline"
                                        color: "black"
                                        font_size: 20
                                        pos_hint: {"center_x":.5}
                                        padding: 12,0,0,0
                                        
                                    MDTextButton:
                                        text: "Check bank balance"
                                        color: "blue"
                                        font_size:17
                                        font_style:"Platypi-Bold"
                                        halign: "left"
                                        padding: 10,20,0,0
                                        on_release:app.b_b()
                                    MDIcon:
                                        icon: "chevron-right"
                                        color: "grey"
                                        font_size: 20
                                        pos_hint: {"center_x":.5}
                                MDBoxLayout:
                                    orientation: "horizontal" 
                                    padding: 15,0,15,0
                                    MDIcon:
                                        icon: "history"
                                        color: "black"
                                        font_size: 20
                                        pos_hint: {"center_x":.5}
                                        padding: 12,0,0,0
                                        
                                    MDTextButton:
                                        text: "See transaction history"
                                        color: "blue"
                                        font_size:17
                                        font_style:"Platypi-Bold"
                                        halign: "left"
                                        padding: 10,20,0,0
                                        on_release:app.t_history()
                                    MDIcon:
                                        icon: "chevron-right"
                                        color: "grey"
                                        font_size: 20
                                        pos_hint: {"center_x":.5}
                                MDBoxLayout:
                                    orientation: "horizontal" 
                                    padding: 15,0,15,0
                                    MDIcon:
                                        icon: "check-decagram"
                                        color: "black"
                                        font_size: 20
                                        pos_hint: {"center_x":.5}
                                        padding: 12,0,0,0
                                    MDTextButton:
                                        text: "Check your CIBIL score"
                                        color: "blue"
                                        font_size:17
                                        font_style:"Platypi-Bold"
                                        halign: "left"
                                        padding: 10,20,0,0
                                        on_release:app.cibil()
                                    MDIcon:
                                        icon: "chevron-right"
                                        color: "grey"
                                        font_size: 20
                                        pos_hint: {"center_x":.1}
                            Widget:
                                size_hint_y: .1
                                height: dp(2)  # Adjust the height of the line
                                canvas:
                                    Color:
                                        rgba: 0, 0, 0, 1  # Set the color of the line
                                    Line:
                                        points: self.x, self.y, self.width, self.y    
            ####################################   PROMOTIONS  ####################################
                            MDBoxLayout:  
                                size_hint_y:.1
                                padding: 8,0                          
                                MDLabel:
                                    text: "Promotions"  # Add more content here
                                    halign: "left"
                                    font_size:20
                                    font_style:"Platypi-Bold"
                                    padding: 8,0,0,0
                                    color:"black"
                                    bold:True
                            MDBoxLayout:  # Example section with padding and spacing
                                padding: 10
                                size_hint_y:.7
                                spacing:10
                                MDBoxLayout:
                                    radius: 20
                                    md_bg_color: "#DDDDDD"
                                    #size_hint_x: 0.55
                                    size_hint_y: 0.8
                                    padding: 10
                                    FitImage:
                                        source: "IMAGES/landing_page_2.png"

                                MDBoxLayout:
                                    radius: 20
                                    md_bg_color: "#DDDDDD"
                                    size_hint_x: 0.55  # Adjust if needed
                                    padding: 10
                                    size_hint_y: 0.8

                                    FitImage:
                                        source: "IMAGES/landing_page_2.png"
            ####################################  GET OFFERS  ####################################
                            MDBoxLayout:
                                orientation:"vertical"
                                size_hint_y:.2
                                
                                MDFillRoundFlatButton:
                                    color:"blue"
                                    text: "[b]Get more Offers![/b]"
                                    icon: "chevron-down"
                                    text_color: "#FFFFFF"
                                    font_size: 14
                                    markup:True
                                    pos_hint:{"center_x":.5,"center_y":.5}
                                    margin: "0dp, 0dp, 0dp, 50dp"
                                MDLabel:
                                    text: ""
            ####################################  DRAWER ####################################
                MDNavigationDrawer:
                    id: nav_drawer
                    radius: (0, 10, 10, 0)

                    MDNavigationDrawerMenu:
                        MDNavigationDrawerHeader:
                            title: "K Arun kumar"
                            title_color: "#4a4939"
                            text: "6382761055-3@ybl"
                            spacing: "4dp"
                            padding: "12dp", 0, 0, "56dp"

                        MDNavigationDrawerItem
                            icon: "qrcode-scan"
                            right_text: "share"
                            text: "Your QR code"

                        MDNavigationDrawerItem
                            icon: "credit-card"
                            right_text: "Add"
                            text: "Pay with credit or debit cards"
                        MDNavigationDrawerItem
                            icon: "gift"
                            #right_text: "share"
                            text: "Invite friends, get rewards"
                        MDNavigationDrawerItem
                            icon: "google-play"
                            #right_text: "share"
                            text: "Give feedback"
                            on_release:app.feedback()

                        MDNavigationDrawerDivider:

                        MDNavigationDrawerLabel:
                            text: "More"

                        MDNavigationDrawerItem
                            icon: "cog"
                            #right_text: "+99"
                            text: "Settings"
                            on_release: app.open_settings()

                        MDNavigationDrawerItem
                            icon: "help-circle-outline"
                            #right_text: "+99"
                            text: "Get help"
                            on_release: app.open_help()
                        
                        MDNavigationDrawerItem
                            icon: "android"
                            #right_text: "share"
                            text: "Developers tool"
                            on_release: app.password()
                        MDLabel:
                            text:"Contributed by students of TGASC"
                            bold:True
                            padding:10,50,0,30
            ################################ SCREEN 2 :GATEWAY ######################################
            MDScreen:
                name:"gateway"
                MDIconButton:
                    icon: "dots-vertical"
                    pos_hint: {"top": 1, "right": 1}
                MDIconButton:
                    id:arrow_button
                    icon: "arrow-right"
                    style: "tonal"
                    theme_bg_color: "Custom"
                    md_bg_color: "orange"
                    theme_icon_color: "Custom"
                    icon_color: "white"
                    pos_hint:{"center_x":0.85,"center_y":0.07}
                    #pos_hint: {"bottom": 1, "right": 1}
                    on_release: app.toggle_bottom_sheet_visibility()
                MDCard:
                    style: "elevated"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    padding: "4dp"
                    size_hint: None, None
                    size:"300dp", "400dp"
                    # Sets custom properties.
                    theme_shadow_color: "Custom"
                    shadow_color: "orange"
                    theme_bg_color: "Custom"
                    md_bg_color: "white"
                    md_bg_color_disabled: "grey"
                    theme_shadow_offset: "Custom"
                    shadow_offset: (1, -2)
                    theme_shadow_softness: "Custom"
                    shadow_softness: 1
                    theme_elevation_level: "Custom"
                    elevation_level: 2
                    MDRelativeLayout:
                        MDIconButton:
                            icon: "account-circle-outline"
                            pos_hint:{"center_x":0.5,"center_y":0.9}
                        MDLabel:
                            id : payee_name
                            text: "Ranjith Kumar"
                            adaptive_size: True
                            font_size:25
                            color: "black"
                            pos_hint:{"center_x":0.5,"center_y":0.8}
                            
                        MDLabel:
                            id : payee_number
                            text: "6382761055"
                            adaptive_size: True
                            font_size:15
                            color: "black"
                            pos_hint:{"center_x":0.5,"center_y":0.72}
                        MDTextField:
                            id:amount_field
                            hint_text:'₹'
                            mode: "rectangle"
                            height: "30dp"
                            pos_hint:{"center_x":0.5,"center_y":0.60}

                        MDTextField:
                            id: note_text
                            hint_text: "Write a Note.."
                            mode: "round"
                            hint_text_color: 1, 1, 1, 1
                            height: "10dp"
                            size_hint_x: .6
                            pos_hint:{"center_x":0.5,"center_y":0.40}
                        
                MDBottomSheet:
                    id: bottom_sheet
                    size_hint_y: None
                    height: dp(200)
                    pos_hint: {"bottom": 1}
                    y: -dp(200)  # Initial position above the screen
                    md_bg_color:"custom"
                    md_bg_color:"#DDDDDD"
                    theme_icon_color: "Custom"
                    icon_color: "white"
                    MDBottomSheetDragHandle:
                        drag_handle_color: "white"
                        MDBottomSheetDragHandleTitle:
                            text: "Proceed Payment.."
                            color:"black"
                            adaptive_height: True
                            pos_hint: {"center_y": .5}
                            bold:True
                        MDBottomSheetDragHandleButton:
                            icon: "close"
                            on_release: app.close_bottom_sheet()
                            theme_icon_color: "Custom"
                            icon_color: "black"
                    MDBoxLayout:
                        orientation:"vertical"
                        size_hint_y: None
                        height: self.minimum_height  # Adjust the height to fit its children
                        padding: dp(20)  # Add padding to create space
                        spacing: dp(20)
                        MDRaisedButton:
                            id:pay
                            text:"[b]Pay ₹[/b]"
                            text_color:"white"
                            md_bg_color:"orange"
                            markup:True
                            pos_hint: {"center_y": .5,"center_x": .5}
                            padding: 30,10,30,10
                            height: dp(56)
                            on_release: app.password() 
                          
            ################################ SCREEN 3 : SELECT CONTACT ######################################
            MDScreen:
                name:"select_contact"
                MDScrollView:
                    MDBoxLayout:
                        id :contacts
                        orientation:'vertical'
                        size_hint_y:1.9
            ################################ SCREEN 4 : SETTINGS ######################################
            MDScreen:
                name:"settings"
                MDBoxLayout:
                    orientation:"vertical"
                    # TwoLineAvatarListItem:
                    #     text:"Dark mode"
                    #     secondary_text:"click here"
                    #     ImageLeftWidget:
                    #         source:"image2.png"
                    # TwoLineAvatarListItem:
                    #     text:"Dark mode"
                    #     secondary_text:"click here"
                    #     IconLeftWidget:
                    #         icon: "facebook"
                    TwoLineAvatarListItem:
                        font_style:"Platypi-Bold"
                        text:"Dark mode"
                        secondary_text:"click here"
                        CheckboxLeftWidget:
                            on_active:
                                app.darkmode() if self.active else app.lightmode()
                    MDLabel:
                MDTextButton:
                    text:"Go Back"
                    underline: True
                    pos_hint: {"center_x":.5,"center_y":.2}
                    on_release:app.Main_page()
            ################################ SCREEN 5 : HELP ######################################
            MDScreen:
                name:"help"
                MDLabel:
                    text:"Help page is under construction!"
                    halign:"center"
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {"top": 1, "left": 1}
                    on_release:app.Main_page()
            ################################ SCREEN 6 : QR SCANNER  ######################################
            MDScreen:
                name:"qr"
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {"top": 1, "left": 1}
                    on_release:app.Main_page()
                MDBoxLayout:
                    orientation: 'vertical'
                    ZBarCam:
                        id: zbarcam
                        code_types: [ZBarSymbol.QRCODE.value]  # Use list--, ZBarSymbol.EAN13.value
                        on_symbols: app.on_symbols(*args)
                MDLabel:
                    text:"QR scanned!"
                    halign:"center"
                #MDRaisedButton:
                #    text:"Proceed payment"
                #    pos_hint: {"center_x": .5 ,"center_y": .45}
                #    on_release:app.dk()
            ################################ SCREEN 7 : SAVINGS  ######################################
            MDScreen:
                name:"savings"
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {"top": 1, "left": 1}
                    on_release:app.Main_page()
                MDLabel:
                    text:"YOUR SAVINGS IS EMPTY!"
                    halign:"center"
                MDIcon:
                    icon: "piggy-bank-outline"
                    color: "#D1553E"
                    font_size: 90
                    pos_hint: {"center_y":.3,"center_x":.5}
            ################################ SCREEN 8 : BITCOIN  ######################################
            MDScreen:
                name:"wallet"
                MDLabel:
                    text:"YOUR WALLET IS EMPTY!"
                    halign:"center"
                    font_size:50
                    color: "#D1553E"
                MDIcon:
                    icon: "bitcoin"
                    color: "#FFD700"
                    font_size: 140
                    pos_hint: {"center_y":.25,"center_x":.5}
                MDTextButton:
                    text:"Home page"
                    halign:"left"
                    font_size: 15
                    underline: True
                    pos_hint: {"center_y":.95}
                    on_release:app.Main_page()
            ################################ SCREEN 9 : BILLS  ######################################
            MDScreen:
                name:"bills"
                MDLabel:
                    text:"PAY BILLS HERE!"
                    halign:"center"
                MDIcon:
                    icon: "receipt-text-check-outline"
                    color: "#D1553E"
                    font_size: 140
                    pos_hint: {"center_y":.4,"center_x":.5}
                    MDIconButton:
                        icon: "arrow-left"
                        pos_hint: {"top": 1, "left": 1}
                        on_release:app.Main_page()
            ################################ SCREEN 10 : BANK TRANSEFER  ###################################
            MDScreen:
                name:"bank_transfer"
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {"top": 1, "left": 1}
                    on_release:app.Main_page()
                MDCard:
                    radius: dp(12), dp(46), dp(12), dp(46)
                    size_hint: .9, .2
                    pos_hint: {"center_x": .5, "center_y": .8}
                    elevation: 2
                    shadow_softness: 4
                    shadow_offset: (2, -2)
                    MDRelativeLayout:
                        MDIconButton:
                            icon: "dots-vertical"
                            pos_hint: {"top": 1, "right": 1}
                        MDLabel:
                            text: "NEFT"
                            adaptive_size: True
                            color: "grey"
                            pos: "12dp", "12dp"
                            bold: True
                MDCard:
                    radius: dp(12), dp(46), dp(12), dp(46)
                    size_hint: .9, .2
                    pos_hint: {"center_x": .5, "center_y": .57}
                    elevation: 2
                    shadow_softness: 4
                    shadow_offset: (2, -2)
                    MDRelativeLayout:
                        MDIconButton:
                            icon: "dots-vertical"
                            pos_hint: {"top": 1, "right": 1}
                        MDLabel:
                            text: "RTGS"
                            adaptive_size: True
                            color: "grey"
                            pos: "12dp", "12dp"
                            bold: True
            ################################ SCREEN 11 : MOB RECHARGE  ###################################
            MDScreen:
                name:"recharge"
                theme_bg_color: "Custom"
                md_bg_color: "#EBF4FF25"
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {"top": 1, "left": 1}
                    on_release:app.Main_page()
                MDCard:
                    style: "elevated"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    padding: "4dp"
                    size_hint: None, None
                    size: "240dp", "100dp"
                    # Sets custom properties.
                    theme_shadow_color: "Custom"
                    shadow_color: "green"
                    theme_bg_color: "Custom"
                    md_bg_color: "white"
                    md_bg_color_disabled: "grey"
                    theme_shadow_offset: "Custom"
                    shadow_offset: (1, -2)
                    theme_shadow_softness: "Custom"
                    shadow_softness: 1
                    theme_elevation_level: "Custom"
                    elevation_level: 2
                    FitImage:
                        source: "IMAGES/jio.png"
                        radius: [15]
                MDCard:
                    style: "elevated"
                    pos_hint: {"center_x": .5, "center_y": .3}
                    padding: "4dp"
                    size_hint: None, None
                    size: "240dp", "100dp"
                    # Sets custom properties.
                    theme_shadow_color: "Custom"
                    shadow_color: "green"
                    theme_bg_color: "Custom"
                    md_bg_color: "white"
                    md_bg_color_disabled: "grey"
                    theme_shadow_offset: "Custom"
                    shadow_offset: (1, -2)
                    theme_shadow_softness: "Custom"
                    shadow_softness: 1
                    theme_elevation_level: "Custom"
                    elevation_level: 2
                    FitImage:
                        source: "IMAGES/airtel.png"
                        radius: [15]
                MDCard:
                    style: "elevated"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    padding: "4dp"
                    size_hint: None, None
                    size: "240dp", "100dp"
                    # Sets custom properties.
                    theme_shadow_color: "Custom"
                    shadow_color: "green"
                    theme_bg_color: "Custom"
                    md_bg_color: "white"
                    md_bg_color_disabled: "grey"
                    theme_shadow_offset: "Custom"
                    shadow_offset: (1, -2)
                    theme_shadow_softness: "Custom"
                    shadow_softness: 1
                    theme_elevation_level: "Custom"
                    elevation_level: 2
                    FitImage:
                        source: "IMAGES/vi.webp"
                        radius: [15]
                MDCard:
                    style: "elevated"
                    pos_hint: {"center_x": .5, "center_y": .9}
                    padding: "4dp"
                    size_hint: None, None
                    size: "240dp", "100dp"
                    # Sets custom properties.
                    theme_shadow_color: "Custom"
                    shadow_color: "green"
                    theme_bg_color: "Custom"
                    md_bg_color: "white"
                    md_bg_color_disabled: "grey"
                    theme_shadow_offset: "Custom"
                    shadow_offset: (1, -2)
                    theme_shadow_softness: "Custom"
                    shadow_softness: 1
                    theme_elevation_level: "Custom"
                    elevation_level: 2
                    FitImage:
                        source: "IMAGES/bsnlnew.jpg"
                        radius: [15]
                MDTextButton:
                    text:"Home page"
                    halign:"left"
                    font_size: 15
                    underline: True
                    pos_hint: {"center_y":.1}
                    on_release:app.Main_page()
            ################################ SCREEN 12 : CIBIL SCORE ###################################
            MDScreen:
                name:"CIBIL"
                MDLabel:
                    text:"This page is under construction!"
                    halign:"center"
                MDIcon:
                    icon: "simple-icons"
                    color: "#D1553E"
                    font_size: 140
                    pos_hint: {"center_y":.3,"center_x":.5}
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {"top": 1, "left": 1}
                    on_release:app.Main_page()
            ################################ SCREEN 13 : TRANSACTION HISTORY ###################################
            MDScreen:
                name:"t_history"
                MDIconButton:
                    icon: "dots-vertical"
                    pos_hint: {"top": 1, "right": 1}
                MDLabel:
                    text:"This transaction hitory page is under construction!"
                    halign:"center"
                MDIcon:
                    icon: "simple-icons"
                    color: "#D1553E"
                    font_size: 140
                    pos_hint: {"center_y":.3,"center_x":.5}
                    MDIconButton:
                        icon: "arrow-left"
                        pos_hint: {"top": 1, "left": 1}
                        on_release:app.Main_page()
            ################################ SCREEN 14 : BANK BALANCE ###################################
            MDScreen:
                name:"b_b"
                MDBoxLayout:
                    orientation:"vertical"
                    MDRelativeLayout:
                        orientation:"horizontal"
                        size_hint: (1, None)  # Set size_hint_x to 1 and size_hint_y to None
                        #height: dp(50)
                        MDIconButton:
                            icon: "dots-vertical"
                            pos_hint: {"top": 1, "right": 1}
                        MDIconButton:
                            icon: "arrow-left"
                            pos_hint: {"top": 1, "left": 1}
                            on_release:app.Main_page()
                    MDRelativeLayout:
                        orientation:"vertical"
                        MDLabel:
                            text: "Bank balance"
                            font_size:25
                            padding: 15,20,0,20
                            pos_hint:{"center_y": .99}
                        MDLabel:
                            text: "₹ 1017.90"
                            font_size:40
                            padding: 15,20,0,20
                            pos_hint:{"center_y": .85}
                        MDLabel:
                            text: "Savings account"
                            font_size:15
                            padding: 15,20,0,20
                            pos_hint:{"center_y": .75}
                            bold:True
                        MDLabel:
                            text: "UCO Bank 9506"
                            font_size:12
                            padding: 15,20,0,20
                            pos_hint:{"center_y": .72}
                        MDCard:
                            style: "elevated"
                            pos_hint: {"center_x": .5, "center_y": .2}
                            padding: "4dp"
                            size_hint: None, None
                            size: "240dp", "100dp"
                            # Sets custom properties.
                            theme_shadow_color: "Custom"
                            shadow_color: "green"
                            theme_bg_color: "Custom"
                            md_bg_color: "white"
                            md_bg_color_disabled: "grey"
                            theme_shadow_offset: "Custom"
                            shadow_offset: (1, -2)
                            theme_shadow_softness: "Custom"
                            shadow_softness: 1
                            theme_elevation_level: "Custom"
                            elevation_level: 2
                            MDRelativeLayout:
                                MDIconButton:
                                    icon: "dots-vertical"
                                    pos_hint: {"top": 1, "right": 1}
                                MDLabel:
                                    text: "Ads"
                                    adaptive_size: True
                                    color: "grey"
                                    pos: "12dp", "12dp"
                                    bold: True
            ################################ SCREEN 15 : PASSWORD  ###################################
            MDScreen:
                name:"password"
                MDRelativeLayout:
                    orientation:"vertical"
                    MDRelativeLayout:
                        MDIconButton:
                            icon: "dots-vertical"
                            pos_hint: {"top": 1, "right": 1}
                        MDIconButton:
                            icon: "arrow-left"
                            pos_hint: {"top": 1, "left": 1}
                            on_release:app.Main_page()
                
                    MDRelativeLayout:
                        orientation:"vertical"
                        size_hint_x:.8
                        pos_hint:{"center_x":.5,"center_y":.5}

                        MDTextField:
                            id: text_field
                            hint_text: "Password"
                            password: True
                            icon_left: "key-variant"
                            max_text_length: 8
                            pos_hint: {"center_x":.5,"center_y":.5}

                        MDIconButton:
                            icon: "eye-off"
                            pos_hint: {"center_y": .5}
                            pos: text_field.width - self.width + dp(8), 0
                            theme_text_color: "Hint"
                            on_release:
                                self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                                text_field.password = False if text_field.password is True else True
                    MDRaisedButton:
                        text:"Confirm"
                        font_size:20
                        pos_hint:{"center_x":.5,"center_y":.4}
                        on_press:app.payment_successful()
            ################################ SCREEN 16 : FEEDBACK  ###################################
            MDScreen:
                name:"feedback"
                MDBoxLayout:
                    orientation: "vertical"
                    MDRelativeLayout:
                        orientation: "horizontal"
                        size_hint: (1, None)
                        MDIconButton:
                            icon: "dots-vertical"
                            pos_hint: {"top": 1, "right": 1}
                        MDIconButton:
                            icon: "arrow-left"
                            pos_hint: {"top": 1, "left": 1}
                            on_release:app.Main_page()
                    MDRelativeLayout:
                        orientation: "vertical"
                        MDLabel:
                            text: "Feedback"
                            font_size: 25
                            padding: 15, 20, 0, 20
                            pos_hint: {"center_y": .99}
                        MDTextField:
                            id: feedback_input
                            hint_text: 'Write comments..'
                            mode: "rectangle"
                            multiline:True
                            height: dp(100)  # Set the desired height using dp() function
                            size_hint_y: .4 # Prevent automatic height adjustment
                            size_hint_x: .95 
                            line_height: dp(40)  # Adjust line height if necessary
                            pos_hint: {"center_x": 0.5, "center_y": 0.70}

                        MDRaisedButton:
                            text: "Submit Feedback"
                            text_color: 1, 1, 1, 1
                            font_style: "Button"
                            bold: True
                            pos_hint: {"center_x": .5, "center_y": .4}
                            on_release: app.submit_feedback()
                        Image:
                            source: "star.png"
                            size_hint_y: None
                            height: dp(100)  # Set the height of the image
                            pos_hint: {"center_x": .5}
                            
                        MDLabel:
                            text: "Rate our app in Google Play Store! "
                            font_style: "Body1"
                            halign: "center"
                            size_hint_y: .5
                            bold: True
            ################################ SCREEN 17 : PAYMENT SUCCESSFUL  ###################################
            MDScreen:
                name:"success"
                MDLabel:
                    text:"Payment sent!"
                    font_style:"Platypi-Bold"
                    halign:"center"
                    font_size: 50
                MDTextButton:
                    text:"Home page"
                    padding:8,0,0,0
                    halign:"left"
                    font_size: 15
                    underline: True
                    pos_hint: {"center_y":.95}
                    on_release:app.Main_page()
                MDIcon:
                    id:thumbsup
                    icon: "thumb-up"
                    color:"blue"      #"#D1553E"
                    font_size: 140
                    pos_hint: {"center_y":.25,"center_x":.5}
            ################################ SCREEN 18 :   ###################################

